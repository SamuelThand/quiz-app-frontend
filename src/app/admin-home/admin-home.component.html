<!DOCTYPE html>

<section class="list-container">
  <h2>Quizzes</h2>
  <div *ngIf="isAdmin" class="create-buttons">
    <button routerLink="/admin-quiz-create">Create new quiz</button>
    <button routerLink="/admin-question">Create new question</button>
  </div>

  <div
    *ngFor="let quiz of quizzes"
    (click)="onStartQuiz(quiz)"
    class="list-item"
    title="Click to play"
  >
    <h3>{{ quiz.name }}</h3>
    <p>Difficulty: {{ quiz.level }}</p>
    <p>Number of questions: {{ quiz.questions.length }}</p>
    <p>Made by: {{ getCreatorDescription(quiz.creator) }}</p>
    <p>Cration date: {{ quiz.date | date : 'yyyy-MM-dd - hh:mm ' }}</p>

    <div *ngIf="isAdmin" class="button-group">
      <!-- TODO send the quiz object as data to the edit component -->
      <button routerLink="/admin-quiz-edit" [queryParams]="{ id: quiz._id }">
        Edit
      </button>
      <button (click)="onQuizDelete(quiz)">Delete</button>
    </div>
  </div>
</section>
